{"version":3,"file":"index.esm.js","sources":["../index.tsx"],"sourcesContent":["import React, { ReactNode } from 'react'\nimport Head from 'next/head'\n\nconst tinybirdDomain = 'https://api.tinybird.co'\nconst tinybirdTrackerURL = 'https://cdn.tinybird.co/static/js/t.js'\n\nexport default function TinybirdProvider(props: {\n  dataSource: string\n  token: string\n  apiUrl?: string\n  trackerURL?: string\n  children: ReactNode | ReactNode[]\n}) {\n  return (\n    <>\n      <Head>\n        <script \n          async\n          data-token={props.token}\n          data-source={props.dataSource}\n          data-api={props.apiUrl || tinybirdDomain}\n          src={props.trackerURL || tinybirdTrackerURL}\n        />\n        <script\n          dangerouslySetInnerHTML={{\n            __html: `window.tinybird = window.tinybird || function() { (window.tinybird.q = window.tinybird.q || []).push(arguments) }`,\n          }}\n        />\n      </Head>\n      {props.children}\n    </>\n  )\n}\n\ntype Props = Record<string, unknown> | never\ntype Events = { [K: string]: Props }\n\nexport function useTinybird<E extends Events = any>() {\n  return function <N extends keyof E>(\n    eventName: N,\n    props?: Props\n  ) {\n    return (window as any).tinybird?.(eventName, props)\n  }\n}"],"names":[],"mappings":";;;AAGA,IAAM,cAAc,GAAG,yBAAyB,CAAA;AAChD,IAAM,kBAAkB,GAAG,wCAAwC,CAAA;SAE3C,gBAAgB,CAAC,KAMxC;IACC,QACE;QACE,oBAAC,IAAI;YACH,gCACE,KAAK,sBACO,KAAK,CAAC,KAAK,iBACV,KAAK,CAAC,UAAU,cACnB,KAAK,CAAC,MAAM,IAAI,cAAc,EACxC,GAAG,EAAE,KAAK,CAAC,UAAU,IAAI,kBAAkB,GAC3C;YACF,gCACE,uBAAuB,EAAE;oBACvB,MAAM,EAAE,mHAAmH;iBAC5H,GACD,CACG;QACN,KAAK,CAAC,QAAQ,CACd,EACJ;AACH,CAAC;SAKe,WAAW;IACzB,OAAO,UACL,SAAY,EACZ,KAAa;;QAEb,OAAO,MAAA,MAAC,MAAc,EAAC,QAAQ,mDAAG,SAAS,EAAE,KAAK,CAAC,CAAA;KACpD,CAAA;AACH;;;;"}